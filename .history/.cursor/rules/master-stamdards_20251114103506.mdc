---
alwaysApply: true
---

# dotfiles 마스터 가이드

## 개요

이 문서는 dotfiles 프로젝트의 모든 규칙과 가이드라인에 대한 상위 개요를 제공합니다. 각 규칙의 목적과 적용 범위를 설명하고 상호 참조를 제공합니다.

## 구현 상태 안내

이 문서에서 설명하는 기능들은 모두 구현된 것이 아닙니다. 각 섹션에는 구현 상태가 표시되어 있으며, 다음과 같은 상태 표시가 사용됩니다:

- ✅ **구현됨**: 기능이 완전히 구현되어 사용 가능함
- ⚠️ **부분 구현**: 기능의 일부만 구현되어 있음
- ❌ **미구현**: 기능이 계획만 되어 있고 아직 구현되지 않음

## 목차

- [코드 작성 규칙](mdc:#코드-작성-규칙)
- [변수 및 경로 관리](mdc:#변수-및-경로-관리)
- [파일 패턴 규칙](mdc:#파일-패턴-규칙)
- [테스트 표준 가이드](mdc:#테스트-표준-가이드)
- [워크플로우 가이드](mdc:#워크플로우-가이드)
- [문서 작성 가이드](mdc:#문서-작성-가이드)
- [시스템 아키텍처](mdc:#시스템-아키텍처)

## 코드 작성 규칙 ⚠️ 부분 구현

모든 코드는 [dotfiles-coding-standards.mdc](mdc:dotfiles-coding-standards.mdc) 문서에 정의된 코딩 표준을 따라야 합니다. 이 표준은 다음 언어에 대한 규칙을 포함합니다:

- Shell/Bash ✅
- Perl ❌
- Python ⚠️
- Java ❌
- JavaScript/TypeScript ❌

주요 원칙:

- 일관된 들여쓰기와 포맷팅 ✅
- 명확한 변수 및 함수 명명 규칙 ✅
- 주석 및 문서화 표준 ✅
- 언어별 특화된 관례 ⚠️

## 변수 및 경로 관리 ✅ 구현됨

변수 사용 및 경로 관리는 [variable-standards.mdc](mdc:variable-standards.mdc) 문서를 참조하세요. 이 가이드는 다음 내용을 포함합니다:

- 변수 참조 표준 (${변수명} 형식) ✅
- 경로 변수 정의 및 사용 ✅
- 주요 환경 변수 목록 ✅
- 로깅 시스템 ✅

### 핵심 시스템

1. **로깅 시스템** ✅:

   - `lib/core/logging.sh`가 핵심 로깅 모듈이며 `lib/core/core.sh`에 통합되어 있음 ✅
   - 모든 스크립트는 반드시 `log_info()`, `log_error()` 등의 통합 로깅 함수 사용 ✅
   - 다양한 로그 레벨 지원: DEBUG, INFO, SUCCESS, WARN, ERROR, FATAL ✅
   - 다양한 출력 옵션: 콘솔, 파일, 컬러링 ✅
   - 폴백 메커니즘: 로깅 모듈 로드 실패 시 기본 로깅 함수 자동 제공 ✅
   - 자동 오류 처리: `enable_error_handling` 함수로 오류 감지 및 로깅 자동화 ✅
   - 중앙화된 로그 수집 및 분석 지원 ⚠️
   - 자세한 내용은 [로깅 시스템 통합 문서](mdc:docs/implementation/logging_system_integration.md) 참조 ⚠️

2. **경로 관리 시스템** ✅:

   - `lib/core/core.sh`에서 기본 경로 변수 정의 ✅
   - 일관된 디렉토리 구조 유지 ✅
   - 플랫폼 감지 및 환경별 경로 설정 ✅

3. **청사진 워크플로우 시스템** ⚠️:

   - `bin/utils/common/workflow_common.sh`가 핵심 구성 요소 ✅
   - 세션 관리 및 워크플로우 단계 처리 ✅
   - 문서 주도 개발(DDD) 방식 지원 ⚠️
   - 통합 명령어 인터페이스 제공 ✅

   청사진 워크플로우 시스템의 주요 구성 요소:

   1. **dotfiles-session** ✅: 세션 관리 통합 명령어
      - 세션 시작/종료 및 상태 확인 ✅
      - 워크플로우 단계(0-6) 설정 및 관리 ✅
      - 할일 목록 관리(추가, 수정, 완료 처리) ✅
      - 청사진 문서에서 할일 가져오기 ⚠️

   2. **dotfiles-docs** ⚠️: 문서화 관리 통합 명령어
      - 청사진 문서 생성 및 관리 ❌
      - 설계 문서 추출 ❌
      - 리플렉션 기록 ❌
      - 요구사항 관계 시각화 ❌
      - 최종 문서 생성 ❌

   3. **dotfiles-validate** ✅: 코드 및 문서 검증 통합 명령어
      - 청사진 검증 ⚠️
      - 요구사항 품질 검사 ❌
      - 코드 검증 ✅
      - 설계-구현 일치성 검증 ❌
      - 테스트 실행 ✅
      - 종합 품질 검사 ⚠️

   청사진 워크플로우는 다음과 같은 7단계로 진행됩니다:

   - **단계 0: 계획** ✅ - 작업 범위 결정, 요구사항 분석, 할일 항목 식별
   - **단계 1: 설계** ⚠️ - 솔루션 설계, 아키텍처 결정, 설계 문서 작성
   - **단계 2: 구현** ✅ - 설계에 따른 코드 작성, 단위 테스트 개발
   - **단계 3: 테스트** ✅ - 통합 테스트 실행, 버그 수정, 기능 검증
   - **단계 4: 검토** ⚠️ - 코드 리뷰 수행, 품질 검증, 최종 확인
   - **단계 5: 문서화** ❌ - API 문서, 사용자 문서, 리플렉션 저널 작성
   - **단계 6: 완료** ✅ - 작업 마무리, 변경사항 병합, 필요시 배포

   각 단계에서는 계획과 실제 구현의 차이를 리플렉션 문서로 기록하여 프로젝트 지식을 축적합니다. ❌

## 파일 패턴 규칙 ❌ 미구현

특정 파일 유형에 대한 규칙은 [file-pattern-rules.mdc](mdc:file-pattern-rules.mdc) 문서를 참조하세요.

적용 파일 패턴:

- 쉘 스크립트 (`*.sh`, `bin/*`) ⚠️
- ZSH 설정 (`*.zsh`, `.zshrc*`) ❌
- 템플릿 파일 (`templates/**/*`) ❌
- 설정 파일 (`config/**/*`) ❌

## 테스트 표준 가이드 ⚠️ 부분 구현

효과적인 테스트 전략과 원칙은 [testing-standards.mdc](mdc:testing-standards.mdc) 문서를 참조하세요. 이 가이드는 다음 내용을 포함합니다:

- 테스트 기본 원칙 및 전략 ✅
- 모킹과 실제 환경 테스트 선택 기준 ⚠️
- 테스트 케이스 설계 및 결과 검증 방법 ⚠️
- 테스트 환경 설정 및 자동화 ⚠️

DDD와 TDD를 통합한 접근법은 [workflow-standards.mdc](mdc:workflow-standards.mdc) 문서를 참조하세요. 이 가이드는 다음 내용을 포함합니다:

- 문서-테스트-구현 삼각형 원칙 ❌
- 요구사항, 테스트, 구현 간 추적성 유지 방법 ❌
- 통합 DDD-TDD 개발 사이클 ⚠️
- AI와의 협업 프레임워크 ❌

주요 원칙:

- 테스트 목적 명확성 유지 ✅
- 각 테스트는 독립적으로 실행 가능 ✅
- 모킹은 인터페이스/의존성 테스트에 사용 ⚠️
- 실제 환경 테스트는 파일/데이터 조작 기능에 사용 ✅
- 모든 테스트는 자체 검증 능력 보유 ✅

## 워크플로우 가이드 ⚠️ 부분 구현

다음 워크플로우 가이드를 참조하세요:

- [installation-standards.mdc](mdc:installation-standards.mdc): 설치 및 업데이트 프로세스 ⚠️
- [workflow-standards.mdc](mdc:workflow-standards.mdc): 청사진-테스트 통합 워크플로우 가이드 ⚠️

이 가이드는 일반적인 작업 수행을 위한 단계별 지침을 제공합니다.

## 문서 작성 가이드 ⚠️ 부분 구현

모든 문서는 [docs-standards.mdc](mdc:docs-standards.mdc)에 정의된 문서 작성 표준을 따라야 합니다.

주요 원칙:

- 일관된 마크다운 형식 ✅
- 명확한 섹션 구조 ✅
- 코드 블록 사용 규칙 ✅
- 링크 및 참조 형식 ✅

## 시스템 아키텍처 ✅ 구현됨

dotfiles 프로젝트는 다음과 같은 계층적 구조로 구성됩니다:

1. **핵심 라이브러리** (`lib/core/`) ✅:
   - core.sh: 기본 유틸리티 및 환경 설정 ✅
   - logging.sh: 로깅 시스템 ✅
   - error_handling.sh: 오류 처리 ✅

2. **유틸리티 모듈** (`lib/utils/`) ✅:
   - 파일 및 경로 관리 ✅
   - 문자열 처리 ✅
   - 세션 및 태스크 관리 ✅

3. **실행 파일** (`bin/`) ✅:
   - 핵심 명령어 (`bin/core/`) ✅
   - 유틸리티 명령어 (`bin/utils/`) ✅
   - 모듈별 명령어 (`bin/modules/`) ⚠️

4. **설정 파일** (`config/`) ✅:
   - 도구별 설정 ✅
   - 환경별 설정 ✅

## 관련 규칙

- [dotfiles-coding-standards.mdc](mdc:dotfiles-coding-standards.mdc) - 코딩 표준 ⚠️
- [variable-standards.mdc](mdc:variable-standards.mdc) - 변수 및 경로 관리 ✅
- [file-pattern-rules.mdc](mdc:file-pattern-rules.mdc) - 파일 패턴별 규칙 ❌
- [testing-standards.mdc](mdc:testing-standards.mdc) - 테스트 표준 가이드 ⚠️
- [installation-standards.mdc](mdc:installation-standards.mdc) - 설치 워크플로우 ⚠️
- [workflow-standards.mdc](mdc:workflow-standards.mdc) - 청사진-테스트 통합 워크플로우 ⚠️
- [docs-standards.mdc](mdc:docs-standards.mdc) - 문서 작성 가이드 ⚠️

## 변경 이력

- 2025.05.07: 최초 작성
- 2025.05.15: 워크플로우 통합 시스템 정보 업데이트
- 2025.05.16: 테스트 표준 가이드 추가
- 2025.06.01: 청사진 워크플로우로 완전히 전환, 워크플로우 시스템 설명 업데이트
- 2025.06.15: 구현 상태 정보 추가