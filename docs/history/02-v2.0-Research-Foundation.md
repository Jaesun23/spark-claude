# SPARK v2.0 - Research Foundation

## ğŸ“… ê¸°ê°„
**2025-08-11 ~ 2025-08-12** (2ì¼)

## ğŸ¯ í•µì‹¬ ëª©í‘œ
ì´ë¡ ì  í”„ë ˆì„ì›Œí¬ ê°œë°œ ë° SPARK ê°œë… íƒ„ìƒ

## ğŸ“‹ ë°°ê²½

v1.0ì—ì„œ SuperClaudeì˜ í† í° ë¹„íš¨ìœ¨ì„± ë¬¸ì œ (44K tokens)ë¥¼ ë°œê²¬í–ˆìŠµë‹ˆë‹¤. ì´ì œ ì´ë¥¼ í•´ê²°í•˜ê¸° ìœ„í•œ ì´ë¡ ì  ê¸°ë°˜ì´ í•„ìš”í–ˆìŠµë‹ˆë‹¤. ë‹¨ìˆœíˆ "ì˜ë¼ë‚´ê¸°"ê°€ ì•„ë‹Œ, ì²´ê³„ì ì¸ Multi-Agent Systemìœ¼ë¡œì˜ ì „í™˜ì´ í•„ìš”í–ˆìŠµë‹ˆë‹¤.

## ğŸ”¬ ì—°êµ¬ ì£¼ì œ

### 1. Multi-Agent System (MAS) í˜•ì‹í™”

#### Personaë¥¼ Agentë¡œ ì¬ì •ì˜
```
Before (SuperClaude):              After (SPARK ê°œë…):
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”                  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚   Persona    â”‚                  â”‚    Agent     â”‚
â”‚  (Static)    â”‚      â†’           â”‚  (Dynamic)   â”‚
â”‚  Always On   â”‚                  â”‚  On-demand   â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜                  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

#### Agent íŠ¹ì„±
- **Autonomy**: ë…ë¦½ì ìœ¼ë¡œ ì‘ë™
- **Isolation**: ë‹¤ë¥¸ agentë¥¼ ì§ì ‘ í˜¸ì¶œ ë¶ˆê°€
- **Tool-based**: Claude Codeì˜ Task toolë¡œë§Œ í™œì„±í™”
- **Stateless**: JSON stateë¡œ ìƒíƒœ ê´€ë¦¬

### 2. Persona Definition Language (PDL)

Agent êµ¬ì¡°ë¥¼ í‘œì¤€í™”í•˜ê¸° ìœ„í•œ ë©”íƒ€ ëª¨ë¸ ê°œë°œ:

```markdown
---
name: {agent-name}
role: {primary-responsibility}
expertise: {specialized-domain}
triggers: {when-to-activate}
---

# Traits (íŠ¹ì„±)
- trait1
- trait2

# Protocol (ì‘ì—… í”„ë¡œí† ì½œ)
## Phase 1: ...
## Phase 2: ...
```

### 3. Dynamic Weight System í˜•ì‹í™”

#### 2-Phase Selection Process
1. **Phase 1**: Task ë¶„ì„ â†’ Required agents ì‹ë³„
2. **Phase 2**: Agent weight ê³„ì‚° â†’ Token budget í• ë‹¹

#### Weight = Token Budget
```
Agent Weight    Token Allocation    Usage
0.0            0 tokens            Not loaded
0.3            ~1,500 tokens       Minor role
0.7            ~3,500 tokens       Major role
1.0            ~5,000 tokens       Primary role
```

### 4. Conflict Resolution Hierarchy

ì—¬ëŸ¬ agentê°€ í•„ìš”í•  ë•Œ ìš°ì„ ìˆœìœ„:
```
Security > Performance > Functionality
```

ì˜ˆ: ë³´ì•ˆ ìš”êµ¬ì‚¬í•­ì´ ì„±ëŠ¥ ìµœì í™”ë³´ë‹¤ ìš°ì„ 

## ğŸ¯ SPARK ê°œë… íƒ„ìƒ

### SPARK ì•½ì
**SPARK = Subagent Performance Architecture with Reduced toKens**

### í•µì‹¬ ì„¤ê³„ ì›ì¹™

1. **Each agent as independent tool**
   - AgentëŠ” Claude Codeì˜ Task toolë¡œ í™œì„±í™”
   - ì§ì ‘ì ì¸ agent-to-agent í†µì‹  ê¸ˆì§€

2. **On-demand loading**
   - ì‚¬ì „ ë¡œë”© ì—†ìŒ
   - í•„ìš”í•  ë•Œë§Œ ë¡œë”©

3. **Task-based activation**
   - Orchestrator (2í˜¸)ê°€ task ë¶„ì„
   - ì ì ˆí•œ agent ì„ íƒ ë° í™œì„±í™”

4. **Token efficiency**
   - í‰ê·  2-3 agentsë§Œ ë¡œë”©
   - ëª©í‘œ: 44K â†’ 5K tokens (88% ì ˆê°)

## ğŸ“ ì£¼ìš” íŒŒì¼/ë””ë ‰í† ë¦¬

### ì•„ì¹´ì´ë¸Œ ìœ„ì¹˜
```
/Users/jason/Documents/ê°œë°œì•„ì¹´ì´ë¸Œ/spark-claude-archive/v2.0-Research-Foundation/
```

### í•µì‹¬ ì—°êµ¬ ë¬¸ì„œ

#### Researchê´€ë ¨/ ë””ë ‰í† ë¦¬
- **20250812_0027_í˜ë¥´ì†Œë‚˜ì‹œìŠ¤í…œ_í™•ì¥_í”„ë ˆì„ì›Œí¬.txt**
  - MAS í˜•ì‹í™”
  - Agent ë…ë¦½ì„± ê°œë…

- **20250812_0115_SPARK_í˜ë¥´ì†Œë‚˜_ìƒì„±ê°€ì´ë“œ.txt**
  - PDL (Persona Definition Language)
  - Agent êµ¬ì¡° í‘œì¤€í™”

- **20250812_1230_í˜ë¥´ì†Œë‚˜_ì§„í™”_ì‹œìŠ¤í…œ_í†µí•©_ì—°êµ¬_2í˜¸.txt**
  - Dynamic weight system
  - Conflict resolution
  - RBAC integration

#### conversation_with_no2.txt
- Jasonê³¼ 2í˜¸ì˜ ëŒ€í™” ê¸°ë¡
- SPARK ê°œë… ë…¼ì˜
- í•µì‹¬ ì•„ì´ë””ì–´ ë„ì¶œ

## ğŸ”‘ í•µì‹¬ ì—°êµ¬ ì„±ê³¼

### 1. Resource Allocation Model
```
Total Budget: 200K tokens (hard limit)
Safety Margin: 90K tokens (practical limit)

Per Request Allocation:
- Orchestrator (2í˜¸): ~5K tokens
- Agents (í‰ê·  2-3ê°œ): ~8-12K tokens
- User context: Variable
- Response generation: ~3-5K tokens
```

### 2. RBAC Integration
Role-Based Access Controlì„ agent ì‹œìŠ¤í…œì— í†µí•©:
- Agentë³„ ê¶Œí•œ ì •ì˜
- ë¯¼ê°í•œ ì‘ì—… ì œí•œ
- ê°ì‚¬ ë¡œê¹…

### 3. MCP Synergy Discovery
**Sequential + Context7 = 1.3x Performance**

ì™œ?
- Sequential: ìˆœì°¨ì  ë¬¸ì„œ ê²€ìƒ‰
- Context7: ìµœì‹  ë¼ì´ë¸ŒëŸ¬ë¦¬ ë¬¸ì„œ
- ì¡°í•©: ì •í™•ë„ í–¥ìƒ

## ğŸ“Š ì„±ê³¼ ì§€í‘œ

### ì´ë¡ ì  ì„¤ê³„ ì™„ì„±
- âœ… MAS í˜•ì‹í™” ì™„ë£Œ
- âœ… PDL í‘œì¤€ ìˆ˜ë¦½
- âœ… SPARK ê°œë… í™•ë¦½
- âœ… Token allocation ëª¨ë¸ ì„¤ê³„

### ì˜ˆìƒ Token ì ˆê°
- **í˜„ì¬ (SuperClaude)**: 44,000 tokens
- **ëª©í‘œ (SPARK)**: 5,000 tokens
- **ì˜ˆìƒ ì ˆê°**: 88.4%

## ğŸ”„ ë‹¤ìŒ ë²„ì „ìœ¼ë¡œì˜ ì „í™˜

### v3.0ìœ¼ë¡œ ê°€ëŠ” ì´ìœ 

ì´ë¡ ì€ ì™„ì„±ë˜ì—ˆì§€ë§Œ, ì‹¤ì œ ë™ì‘í•˜ëŠ” ì‹œìŠ¤í…œì´ í•„ìš”í–ˆìŠµë‹ˆë‹¤:

1. **í”„ë¡œí† íƒ€ì… êµ¬í˜„**
   - ì´ë¡ ì„ ì½”ë“œë¡œ ì „í™˜
   - Agent ì •ì˜ íŒŒì¼ ì‘ì„±
   - Orchestration ë¡œì§ êµ¬í˜„

2. **ì‹¤ì œ í† í° ì¸¡ì •**
   - ì˜ˆìƒ 88% ì ˆê°ì„ ì‹¤ì œë¡œ ë‹¬ì„±í•˜ëŠ”ì§€ ê²€ì¦
   - ì„±ëŠ¥ ë²¤ì¹˜ë§ˆí¬

3. **Agent ë¦¬ë„¤ì´ë°**
   - `analyzer-super.md` â†’ `analyzer-spark.md`
   - SuperClaudeì—ì„œ SPARKë¡œ ì „í™˜

**v3.0 ëª©í‘œ**: ì²« ë²ˆì§¸ ë™ì‘í•˜ëŠ” SPARK ì‹œìŠ¤í…œ êµ¬í˜„

## ğŸ’¡ í•µì‹¬ êµí›ˆ

1. **ì´ë¡ ì  ê¸°ë°˜ì˜ ì¤‘ìš”ì„±**
   - êµ¬í˜„ ì „ ì„¤ê³„ê°€ ëª…í™•í•´ì•¼ í•¨
   - MAS í˜•ì‹í™”ê°€ ì „ì²´ ì•„í‚¤í…ì²˜ ê²°ì •

2. **ì œì•½ì´ í˜ì‹ ì„ ë‚³ìŒ**
   - 200K í† í° ì œí•œ â†’ On-demand loading ë°œëª…
   - Agent ê²©ë¦¬ â†’ ì˜ˆì¸¡ ê°€ëŠ¥í•œ ì‹¤í–‰

3. **í˜‘ì—…ì˜ ê°€ì¹˜**
   - Jasonì˜ ë°ì´í„° ë¶„ì„ + 2í˜¸ì˜ ì‹œìŠ¤í…œ ì„¤ê³„
   - conversation_with_no2.txtì— í•µì‹¬ ì•„ì´ë””ì–´

## ğŸ“ ì—°êµ¬ ë°©ë²•ë¡ 

### ë¬¸í—Œ ì¡°ì‚¬
- Multi-Agent Systems ë…¼ë¬¸
- Token optimization ê¸°ë²•
- Orchestration patterns

### ì‹¤í—˜ì  ë¶„ì„
- SuperClaude ì‚¬ìš© íŒ¨í„´ ë°ì´í„°
- 78% í˜‘ì—… íŒ¨í„´ ë°œê²¬
- Complexity formula ë„ì¶œ

### í”„ë¡œí† íƒ€ì… ì„¤ê³„
- PDL ì´ˆì•ˆ
- JSON state structure
- Agent isolation protocol

---

## ğŸ“ ì°¸ê³  ì‚¬í•­

- ì´ ë²„ì „ë„ ì‹¤ì œ ì½”ë“œ ë³€ê²½ ì—†ìŒ (ì—°êµ¬ ë‹¨ê³„)
- ëª¨ë“  ì„¤ê³„ ë¬¸ì„œëŠ” Researchê´€ë ¨/ ë””ë ‰í† ë¦¬ì— ë³´ê´€
- v3.0ì—ì„œ ì‹¤ì œ êµ¬í˜„ ì‹œì‘

---

*ë¬¸ì„œ ì‘ì„±: 2025-12-01*
*ê¸°ë°˜ ìë£Œ: SPARK_Development_Chronology_20250118.md*
*ì•„ì¹´ì´ë¸Œ: spark-claude-archive/v2.0-Research-Foundation/*
