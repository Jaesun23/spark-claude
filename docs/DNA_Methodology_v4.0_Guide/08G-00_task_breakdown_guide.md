# Task Breakdown ì‘ì„± ê°€ì´ë“œ

> **ëª©ì **: Stage 8 - Blueprint(ì´ˆìƒì„¸)ë¥¼ AIê°€ ì§‘ì¤‘ êµ¬í˜„ ê°€ëŠ¥í•œ Task ë‹¨ìœ„ë¡œ ë¶„í•´
>
> **ë²„ì „**: v2.0 (2025-11-12)
> - v2.0: Stage 8 ë²”ìœ„ ëª…ì‹œ, ì…ë ¥/ì¶œë ¥ ë¬¸ì„œ ì¶”ê°€

---

## ğŸ“¥ ì…ë ¥ ë¬¸ì„œ (Stage 7ì—ì„œ ë°›ì€ ê²ƒ)

#### 1. **`07B-01_project_blueprint.md`** (í•„ìˆ˜)
- ì´ˆìƒì„¸ í”„ë¡œì íŠ¸ ì²­ì‚¬ì§„ (ìˆ˜ì²œ ì¤„)
- **í™œìš©**: ì‘ì—… ë¶„í•´ì˜ ê¸°ë°˜

#### 2. **`06D-01_project_standards.md`** (ì°¸ê³ )
- í”„ë¡œì íŠ¸ í‘œì¤€
- **í™œìš©**: ì‘ì—…ë³„ í‘œì¤€ ë°˜ì˜

---

## ğŸ“¤ ì¶œë ¥ ë¬¸ì„œ (ì´ Stageì—ì„œ ìƒì„±í•´ì•¼ í•  ë¬¸ì„œ)

### í•„ìˆ˜ ë¬¸ì„œ

#### 1. **`08T-01_task_breakdown.md`** - ì‘ì—… ë¶„í•´ (THE ì‚°ì¶œë¬¼)
**ë‚´ìš©**:
- AIê°€ 4ì‹œê°„ ì´ë‚´ ì™„ë£Œ ê°€ëŠ¥í•œ ì‘ì—… ë‹¨ìœ„
- ë…ë¦½ì ìœ¼ë¡œ í…ŒìŠ¤íŠ¸ ê°€ëŠ¥
- Necessary Information Only

**êµ¬ì¡°**:
```markdown
# TASK BREAKDOWN

## Task 001: Order Entity êµ¬í˜„
**ëª©í‘œ**: Order ì—”í‹°í‹° í´ë˜ìŠ¤ ë° DB ëª¨ë¸ êµ¬í˜„
**ì˜ˆìƒ ì‹œê°„**: 2-3ì‹œê°„
**ì˜ì¡´ì„±**: ì—†ìŒ

### ì…ë ¥
- ADR-116: Order Schema Design
- í‘œì¤€: Naming, Validation ê·œì¹™

### ì¶œë ¥
- `src/domains/order/models.py`
- ë‹¨ìœ„ í…ŒìŠ¤íŠ¸ (95%+ ì»¤ë²„ë¦¬ì§€)

### ì œì•½
- MUST use Pydantic BaseModel
- UUID for primary key

### ì°¸ê³ 
- Blueprint Section 3.2

---

## Task 002: Order Repository êµ¬í˜„
**ëª©í‘œ**: Order CRUD ì‘ì—…
**ì˜ˆìƒ ì‹œê°„**: 3-4ì‹œê°„
**ì˜ì¡´ì„±**: Task 001

...
```

**íŠ¹ì§•**:
- 1ê°œ Task = 1ê°œ íŒŒì¼ ë˜ëŠ” 1ê°œ ê¸°ëŠ¥
- 4ì‹œê°„ ì´ë‚´ ì™„ë£Œ í¬ê¸°
- ë…ë¦½ í…ŒìŠ¤íŠ¸ ê°€ëŠ¥
- ëª…í™•í•œ ì…ë ¥/ì¶œë ¥

---

## ğŸ”„ ë‹¤ìŒ Stageë¡œ ì „ë‹¬ë˜ëŠ” ê²ƒ

Stage 8 â†’ Stage 9:
- âœ… ì‘ì—… ëª©ë¡ (Task 001~N)
- âœ… ê° ì‘ì—…ì˜ ëª©í‘œ, ì‹œê°„, ì˜ì¡´ì„±
- âœ… ìš°ì„ ìˆœìœ„

Stage 9 (Checklist)ì—ì„œëŠ”:
- ê° Taskë§ˆë‹¤ TDD 9-Step ì²´í¬ë¦¬ìŠ¤íŠ¸ ìƒì„±
- ë‹¨ê³„ë³„ ì‹¤í–‰ ê°€ì´ë“œ

---

## 1. ê°œìš”

### ì™œ ì‘ì—…ë¶„í•´ê°€ í•„ìš”í•œê°€?

```python
# ë¬¸ì œ
Blueprint = 5000ì¤„  # AIê°€ í•œ ë²ˆì— ì²˜ë¦¬ ë¶ˆê°€
â†’ ì»¨í…ìŠ¤íŠ¸ ì´ˆê³¼, ì§‘ì¤‘ë ¥ ì €í•˜, ì‹¤ìˆ˜ ì¦ê°€

# í•´ê²°
Task = 100ì¤„ì”© ë¶„í•´  # AIê°€ ì²˜ë¦¬ ê°€ëŠ¥í•œ ë‹¨ìœ„
â†’ ëª…í™•í•œ ì§‘ì¤‘, ë†’ì€ í’ˆì§ˆ, ê²€ì¦ ê°€ëŠ¥
```

### ì‘ì—…ë¶„í•´ì˜ ëª©í‘œ

1. **ì •ë³´ ì••ì¶•**: Blueprint 5000ì¤„ â†’ Task 100ì¤„ì”©
2. **Necessary Information Only**: ì´ Taskì— í•„ìš”í•œ ê²ƒë§Œ
3. **ì™„ì „í•œ ë ˆê³ ë¸”ëŸ­**: ë…ë¦½ì ìœ¼ë¡œ í…ŒìŠ¤íŠ¸ ê°€ëŠ¥í•œ ê¸°ëŠ¥ ë‹¨ìœ„

### ë‘ ê°€ì§€ ì™„ì„± ì¡°ê±´

**ì¼ê´€ì„± (Consistency)**:
- ëª¨ë“  Taskê°€ ê°™ì€ ë„êµ¬ ì‚¬ìš© (DNA ì‹œìŠ¤í…œ í™˜ê²½ ê¸°ë°˜)
- ëª¨ë“  Taskê°€ ê°™ì€ íŒ¨í„´ ë”°ë¦„
- ëª¨ë“  Taskê°€ ê°™ì€ í‘œì¤€ ì¤€ìˆ˜

**ëˆ„ë½ì—†ìŒ (No Omissions)**:
- Blueprintì˜ ëª¨ë“  ê¸°ëŠ¥ì´ Taskë¡œ ë¶„í•´ë¨
- Task ëª©ë¡ = Blueprint ê¸°ëŠ¥ ëª©ë¡
- ë¹ ì§„ Task ì—†ìŒ

---

## 2. Task ë¶„í•  ë°©ì‹ ì„ íƒ â­

### Case 1: ëª¨ë“ˆí™” ë¶„í•  (ìˆ˜í‰ ë¶„í• )

**íŠ¹ì§•**: ì¬ì‚¬ìš© ê°€ëŠ¥í•œ ë…ë¦½ ëª¨ë“ˆì„ ë¨¼ì € ë§Œë“¤ê³ , ë‚˜ì¤‘ì— ì¡°ë¦½

**ì–¸ì œ ì‚¬ìš©**:
- âœ… ì¬ì‚¬ìš©ì„±ì´ ë†’ì€ ê²½ìš°
- âœ… ë³µì¡í•œ ë¡œì§
- âœ… íŒ€ í˜‘ì—… (ì—¬ëŸ¬ ì‚¬ëŒì´ ë™ì‹œ ì‘ì—…)

**ì˜ˆì‹œ: Auth ì‹œìŠ¤í…œ**
```
Task T2.1.1: JWT ìƒì„± ëª¨ë“ˆ (create_token)
  â†’ ì…ë ¥: user_id
  â†’ ì¶œë ¥: token
  â†’ ì˜ì¡´ì„±: ì—†ìŒ (ë…ë¦½ ëª¨ë“ˆ)

Task T2.1.2: JWT ê²€ì¦ ëª¨ë“ˆ (validate_token)
  â†’ ì…ë ¥: token
  â†’ ì¶œë ¥: user_id or None
  â†’ ì˜ì¡´ì„±: ì—†ìŒ (ë…ë¦½ ëª¨ë“ˆ)

Task T2.2.1: Login ì—”ë“œí¬ì¸íŠ¸
  â†’ ì…ë ¥: email, password
  â†’ ì¶œë ¥: token
  â†’ ì˜ì¡´ì„±: T2.1.1 (create_token ì‚¬ìš©)

Task T2.2.2: Logout ì—”ë“œí¬ì¸íŠ¸
  â†’ ì˜ì¡´ì„±: T2.1.2 (validate_token ì‚¬ìš©)

Task T2.2.3: Refresh ì—”ë“œí¬ì¸íŠ¸
  â†’ ì˜ì¡´ì„±: T2.1.1, T2.1.2 (ë‘˜ ë‹¤ ì‚¬ìš©)
```

**ì¥ì **:
- ëª¨ë“ˆ ì¬ì‚¬ìš© ê°€ëŠ¥
- ë³‘ë ¬ ì‘ì—… ê°€ëŠ¥ (T2.1.1ê³¼ T2.1.2ë¥¼ ë™ì‹œì—)
- í…ŒìŠ¤íŠ¸ ë…ë¦½ì 

**ë‹¨ì **:
- ì´ˆê¸° ì„¤ê³„ ë³µì¡
- ì¡°ë¦½ ë‹¨ê³„ í•„ìš”

---

### Case 2: ë‹¨ê³„ë³„ êµ¬í˜„ (ìˆ˜ì§ ë¶„í• )

**íŠ¹ì§•**: ì „ì²´ ê¸°ëŠ¥ì„ í•˜ë‚˜ì”© ì™„ì„±

**ì–¸ì œ ì‚¬ìš©**:
- âœ… ë¹ ë¥¸ ë°°í¬ í•„ìš”
- âœ… ë‹¨ìˆœí•œ ê¸°ëŠ¥
- âœ… í•™ìŠµ ê³¡ì„  (ìƒˆë¡œìš´ ê¸°ìˆ  í•™ìŠµ ì¤‘)

**ì˜ˆì‹œ: Auth ì‹œìŠ¤í…œ**
```
Task T2.1.1: Login ê¸°ëŠ¥ ì „ì²´
  â†’ JWT ìƒì„± ë¡œì§ í¬í•¨
  â†’ JWT ê²€ì¦ ë¡œì§ í¬í•¨
  â†’ Login ì—”ë“œí¬ì¸íŠ¸ ì™„ì„±
  â†’ âœ… Login ì™„ì „ ì‘ë™!

Task T2.2.1: Logout ê¸°ëŠ¥ ì „ì²´
  â†’ JWT ê²€ì¦ ë¡œì§ ì¬êµ¬í˜„ (ë˜ëŠ” ë³µì‚¬)
  â†’ Logout ì—”ë“œí¬ì¸íŠ¸ ì™„ì„±
  â†’ âœ… Logout ì™„ì „ ì‘ë™!

Task T2.3.1: Refresh ê¸°ëŠ¥ ì „ì²´
  â†’ JWT ê²€ì¦ + ìƒì„± ë¡œì§ ì¬êµ¬í˜„
  â†’ Refresh ì—”ë“œí¬ì¸íŠ¸ ì™„ì„±
  â†’ âœ… Refresh ì™„ì „ ì‘ë™!
```

**ì¥ì **:
- ë¹ ë¥¸ ê²°ê³¼ í™•ì¸
- ê° ê¸°ëŠ¥ì´ ì™„ì „íˆ ì‘ë™
- ê°„ë‹¨í•œ êµ¬ì¡°

**ë‹¨ì **:
- ì½”ë“œ ì¤‘ë³µ ê°€ëŠ¥
- ë³‘ë ¬ ì‘ì—… ì–´ë ¤ì›€

---

### ë¶„í•  ë°©ì‹ ì„ íƒ ê°€ì´ë“œ

```
â”Œâ”€ ì¬ì‚¬ìš©ì„±ì´ ë†’ì€ê°€?
â”‚  â”œâ”€ Yes â†’ Case 1 (ëª¨ë“ˆí™”)
â”‚  â””â”€ No
â”‚      â””â”€ ë¹ ë¥¸ ë°°í¬ê°€ ì¤‘ìš”í•œê°€?
â”‚          â”œâ”€ Yes â†’ Case 2 (ë‹¨ê³„ë³„)
â”‚          â””â”€ No
â”‚              â””â”€ ë³µì¡ë„ê°€ ë†’ì€ê°€?
â”‚                  â”œâ”€ Yes â†’ Case 1 (ëª¨ë“ˆí™”)
â”‚                  â””â”€ No â†’ Case 2 (ë‹¨ê³„ë³„)
```

**ì‹¤ìš©ì  íŒë‹¨ ê¸°ì¤€**:
- **5íšŒ ì´ìƒ ì¬ì‚¬ìš©** ì˜ˆìƒ â†’ Case 1
- **2-3íšŒ ì¬ì‚¬ìš©** â†’ Case 2 (ë‚˜ì¤‘ì— ë¦¬íŒ©í† ë§)
- **1íšŒë§Œ ì‚¬ìš©** â†’ Case 2

---

## 3. Task ë‚˜ëˆ„ê¸° 4ê°€ì§€ ì§ˆë¬¸

### Q1: 200K ì»¨í…ìŠ¤íŠ¸ë¡œ ê°€ëŠ¥í•œê°€?

**ì²´í¬ í•­ëª©**:
```python
ì»¨í…ìŠ¤íŠ¸_ì‚¬ìš©ëŸ‰ = {
    "Task ë¬¸ì„œ": "~100ì¤„ (2K í† í°)",
    "Blueprint ì°¸ì¡°": "~30ì¤„ (0.6K í† í°)",
    "Standards ì°¸ì¡°": "~50ì¤„ (1K í† í°)",
    "êµ¬í˜„ ì½”ë“œ": "~200ì¤„ (4K í† í°)",
    "í…ŒìŠ¤íŠ¸ ì½”ë“œ": "~150ì¤„ (3K í† í°)",
    "ì´í•©": "~10K í† í°"
}

# âœ… 200K ì¤‘ 10K â†’ ì•ˆì „
```

**ë„ˆë¬´ í° Task ì‹ í˜¸**:
- Blueprint ì°¸ì¡°ê°€ 100ì¤„ ì´ìƒ
- êµ¬í˜„ ì½”ë“œ ì˜ˆìƒì´ 500ì¤„ ì´ìƒ
- 3ê°œ ì´ìƒì˜ í‘œì¤€ ë¬¸ì„œ ì°¸ì¡°

â†’ **í•´ê²°**: Taskë¥¼ 2-3ê°œë¡œ ë¶„í• 

---

### Q2: ì´ Taskë§Œìœ¼ë¡œ ì˜ë¯¸ìˆëŠ” ê¸°ëŠ¥ì¸ê°€?

**âœ… ì˜ë¯¸ìˆëŠ” Task**:
```python
# Task T2.1.1: JWT ìƒì„± ëª¨ë“ˆ
def create_token(user_id: str) -> str:
    """JWT ì•¡ì„¸ìŠ¤ í† í° ìƒì„±"""
    # âœ… ì™„ì „íˆ ì‘ë™
    # âœ… ë‹¨ë… í…ŒìŠ¤íŠ¸ ê°€ëŠ¥
    # âœ… ì˜ì¡´ì„± ì—†ìŒ
    return token
```

**âŒ ì˜ë¯¸ì—†ëŠ” Task**:
```python
# Task X: User í´ë˜ìŠ¤ ì •ì˜ë§Œ
class User:
    id: str
    email: str
    # âŒ ë™ì‘í•˜ì§€ ì•ŠìŒ
    # âŒ í…ŒìŠ¤íŠ¸ ë¶ˆê°€ëŠ¥
    # âŒ ë¶ˆì™„ì „í•œ ë¸”ëŸ­
```

**íŒë‹¨ ê¸°ì¤€**:
- ì´ Taskê°€ ì™„ë£Œë˜ë©´ ë¬´ì–¸ê°€ê°€ **ì‘ë™**í•˜ëŠ”ê°€?
- ë‹¨ë…ìœ¼ë¡œ **í…ŒìŠ¤íŠ¸**í•  ìˆ˜ ìˆëŠ”ê°€?
- ëª…í™•í•œ **ì…ë ¥/ì¶œë ¥**ì´ ìˆëŠ”ê°€?

---

### Q3: ë‹¤ë¥¸ Taskì™€ ì¼ê´€ì„±ì´ ìˆë‚˜?

**ì²´í¬ í•­ëª©**:

**ë„êµ¬ ì¼ê´€ì„±**:
```python
# âœ… ëª¨ë“  Taskê°€ ê°™ì€ ë„êµ¬
Task T2.1.1: structlog, Pydantic, pytest
Task T2.2.1: structlog, Pydantic, pytest
Task T2.3.1: structlog, Pydantic, pytest

# âŒ Taskë§ˆë‹¤ ë‹¤ë¥¸ ë„êµ¬
Task T2.1.1: structlog
Task T2.2.1: logging  # âŒ ë‹¤ë¦„!
Task T2.3.1: print()  # âŒ ì™„ì „íˆ ë‹¤ë¦„!
```

**íŒ¨í„´ ì¼ê´€ì„±**:
- ëª¨ë“  APIëŠ” FastAPI + Pydantic
- ëª¨ë“  ì„¤ì •ì€ pydantic-settings
- ëª¨ë“  í…ŒìŠ¤íŠ¸ëŠ” Given-When-Then

**DNA ì‹œìŠ¤í…œ í™˜ê²½ ê¸°ë°˜**:
```python
# âœ… DNA ì‹œìŠ¤í…œ í™˜ê²½ ì‚¬ìš©
from core.logging import get_logger
from core.config import settings

# âŒ ì»¤ìŠ¤í…€ êµ¬í˜„
import logging  # DNA ì‹œìŠ¤í…œì— ì—†ìŒ!
```

---

### Q4: ì²­ì‚¬ì§„ì—ì„œ ëˆ„ë½ëœ TaskëŠ” ì—†ë‚˜?

**ê²€ì¦ ë°©ë²•**:

**1. Blueprint ê¸°ëŠ¥ ëª©ë¡ ì¶”ì¶œ**:
```markdown
# Blueprint: Auth ì‹œìŠ¤í…œ
1. JWT í† í° ìƒì„±
2. JWT í† í° ê²€ì¦
3. Login ì—”ë“œí¬ì¸íŠ¸
4. Logout ì—”ë“œí¬ì¸íŠ¸
5. Refresh ì—”ë“œí¬ì¸íŠ¸
6. ë¹„ë°€ë²ˆí˜¸ í•´ì‹±
7. Redis ì„¸ì…˜ ê´€ë¦¬
```

**2. Task ëª©ë¡ê³¼ ë¹„êµ**:
```markdown
# Task ëª©ë¡
âœ… T2.1.1: JWT ìƒì„±
âœ… T2.1.2: JWT ê²€ì¦
âœ… T2.2.1: Login ì—”ë“œí¬ì¸íŠ¸
âœ… T2.2.2: Logout ì—”ë“œí¬ì¸íŠ¸
âœ… T2.2.3: Refresh ì—”ë“œí¬ì¸íŠ¸
âŒ ë¹„ë°€ë²ˆí˜¸ í•´ì‹± â†’ ëˆ„ë½!
âŒ Redis ì„¸ì…˜ ê´€ë¦¬ â†’ ëˆ„ë½!
```

**3. ëˆ„ë½ Task ì¶”ê°€**:
```markdown
ì¶”ê°€:
- T2.1.3: ë¹„ë°€ë²ˆí˜¸ í•´ì‹± ëª¨ë“ˆ
- T2.1.4: Redis ì„¸ì…˜ ê´€ë¦¬ ëª¨ë“ˆ
```

---

## 4. Task ë¬¸ì„œ 9-Section í…œí”Œë¦¿

### í…œí”Œë¦¿ êµ¬ì¡°

```markdown
# Task T{domain}.{module}.{number}: {Task ì´ë¦„}

## 1. ğŸ“˜ ì²­ì‚¬ì§„ ì°¸ì¡°
**Blueprint Line {start}-{end}**: {ì°¸ì¡° ë‚´ìš© ìš”ì•½}

## 2. ğŸ“‹ í”„ë¡œì íŠ¸ í‘œì¤€ ì°¸ì¡°
**PROJECT_STANDARDS.md Line {start}-{end}**: {ì°¸ì¡° í‘œì¤€}
**ARCHITECTURE.md Line {start}-{end}**: {ì°¸ì¡° ì•„í‚¤í…ì²˜}

## 3. ğŸ”§ ì‚¬ìš© ë„êµ¬
- **{ë„êµ¬ëª…}**: {ìš©ë„}

## 4. ğŸ“¦ ì…ë ¥/ì¶œë ¥
**ì…ë ¥**: {íƒ€ì…} - {ì„¤ëª…}
**ì¶œë ¥**: {íƒ€ì…} - {ì„¤ëª…}

## 5. ğŸ”— ì¡°ë¦½ ì •ë³´
**ì´ ë¸”ëŸ­ì„ ì‚¬ìš©í•˜ëŠ” Task**: T{x.x.x}
**ì´ ë¸”ëŸ­ì´ ì‚¬ìš©í•˜ëŠ” Task**: T{a.a.a} (ë˜ëŠ” "ì—†ìŒ")

## 6. ğŸ¯ ì™„ì„± ê¸°ì¤€
- [ ] {ê¸°ëŠ¥ ë™ì‘ í™•ì¸}
- [ ] {í…ŒìŠ¤íŠ¸ í†µê³¼}

## 7. ğŸ’¡ êµ¬í˜„ íŒíŠ¸
```python
{ì‹¤ì œ ì½”ë“œ ì˜ˆì‹œ}
```

## 8. â±ï¸ ì˜ˆìƒ ì‘ì—… ì‹œê°„
ì´ ì˜ˆìƒ: {ì‹œê°„}

## 9. ğŸ“Œ ë©”íƒ€ì •ë³´
- ìš°ì„ ìˆœìœ„: {High/Medium/Low}
- ì˜ì¡´ì„±: {ì„ í–‰ Task}
```

---

### ê° ì„¹ì…˜ ì‘ì„± ê°€ì´ë“œ

#### Section 1: ì²­ì‚¬ì§„ ì°¸ì¡°

**ëª©ì **: Necessary Information Only - ì´ Taskì— í•„ìš”í•œ Blueprint ë¶€ë¶„ë§Œ

**ì‘ì„±ë²•**:
```markdown
## 1. ğŸ“˜ ì²­ì‚¬ì§„ ì°¸ì¡°
**Blueprint Line 145-178**: JWT ì•Œê³ ë¦¬ì¦˜ ë° í† í° êµ¬ì¡°

í•µì‹¬ ë‚´ìš©:
- HS256 ì•Œê³ ë¦¬ì¦˜ ì‚¬ìš©
- Payload: {user_id, exp, iat}
- TTL: 1ì‹œê°„ (3600ì´ˆ)
```

**ì£¼ì˜**:
- âŒ Blueprint ì „ì²´ ë§í¬ë§Œ ì œê³µ
- âœ… ì •í™•í•œ Line ë²ˆí˜¸ + í•µì‹¬ ë‚´ìš© ìš”ì•½

---

#### Section 2: í”„ë¡œì íŠ¸ í‘œì¤€ ì°¸ì¡°

**ëª©ì **: DNA ì‹œìŠ¤í…œ í™˜ê²½ì˜ ì–´ë–¤ ë¶€ë¶„ì„ ì‚¬ìš©í•˜ëŠ”ê°€

**í•µì‹¬**: 800 lines ì „ì²´ê°€ ì•„ë‹Œ, "ì´ Task ê´€ë ¨" ë¶€ë¶„ë§Œ í•„í„°ë§!

**ì‘ì„±ë²•**:
```markdown
## 2. ğŸ“‹ í”„ë¡œì íŠ¸ í‘œì¤€ ì°¸ì¡° (ì´ Task ê´€ë ¨ë§Œ!)

#### ë¡œê¹… (standards/01_logging.md Line 12-25)
- `logger.info("event_name", key=value)` í˜•ì‹ ì‚¬ìš©
- `print()` ì ˆëŒ€ ê¸ˆì§€
- ëª¨ë“  ì£¼ìš” ì‘ì—… (ìƒì„±, ìˆ˜ì •, ì‚­ì œ) ë¡œê¹… í•„ìˆ˜
- ì—ëŸ¬ëŠ” `logger.error()` ë˜ëŠ” `logger.exception()` ì‚¬ìš©

#### ì„¤ì • (standards/02_configuration.md Line 30-45)
- ëª¨ë“  SECRETì€ `config.get_secret("KEY_NAME")` ì‚¬ìš©
- í•˜ë“œì½”ë”© ì ˆëŒ€ ê¸ˆì§€
- `.env` íŒŒì¼ì—ì„œ í™˜ê²½ë³€ìˆ˜ ê´€ë¦¬
- Pydantic Settings í´ë˜ìŠ¤ ì‚¬ìš©

#### ì•„í‚¤í…ì²˜ (standards/05_architecture.md Line 89-102)
- Domain LayerëŠ” Infrastructure ì˜ì¡´ ê¸ˆì§€
- interfaces.pyë¡œ ì¶”ìƒí™”
- import-linterë¡œ ê²€ì¦
```

**íŒŒì¼ ë¶„ë¦¬ ì˜ˆì‹œ**:
```
í° ë¬¸ì„œëŠ” íŒŒì¼ë¡œ ë¶„ë¦¬í•˜ì„¸ìš”!

âŒ Before:
PROJECT_STANDARDS.md (800 lines)
â†’ ë„ˆë¬´ ê¸¸ì–´ì„œ ì–´ë”” ì½ì–´ì•¼ í• ì§€ ëª¨ë¦„

âœ… After:
standards/
â”œâ”€â”€ 01_logging.md (150 lines)
â”œâ”€â”€ 02_configuration.md (120 lines)
â”œâ”€â”€ 03_error_handling.md (180 lines)
â”œâ”€â”€ 04_database.md (200 lines)
â”œâ”€â”€ 05_architecture.md (150 lines)

ê° íŒŒì¼ì´ 200-500 linesë¡œ ì ì •!
Line ì°¸ì¡°í•˜ê¸°ë„ ì‰¬ì›€!
```

**í•„í„°ë§ ì ˆì°¨**:
1. **ì´ Taskê°€ ë¬´ì—‡ì„ í•˜ë‚˜?** â†’ JWT í† í° ìƒì„±
2. **í•„ìš”í•œ í‘œì¤€ ì‹ë³„**:
   - ë¡œê¹…? YES (í† í° ìƒì„± ì´ë²¤íŠ¸ ê¸°ë¡)
   - ì„¤ì •? YES (SECRET_KEY ê°€ì ¸ì˜¤ê¸°)
   - DB? NO (JWTëŠ” DB ì•ˆ ì”€)
   - ì—ëŸ¬ì²˜ë¦¬? NO (ì´ TaskëŠ” ê°„ë‹¨)
3. **í•„ìš”í•œ ë¶€ë¶„ë§Œ ì½ê¸°**:
   - standards/01_logging.md Line 12-25 ì½ê¸°
   - standards/02_configuration.md Line 30-45 ì½ê¸°
4. **Task Section 2ì— ìš”ì•½ + Line ì°¸ì¡°**

**ì£¼ì˜**:
- âŒ "í”„ë¡œì íŠ¸ í‘œì¤€ì„ ë”°ë¥¸ë‹¤" (ì¶”ìƒì )
- âŒ "PROJECT_STANDARDS.md ì „ì²´ ì°¸ì¡°" (800 lines!)
- âœ… êµ¬ì²´ì ì¸ íŒŒì¼ëª… + Line ë²ˆí˜¸ + í•µì‹¬ ë‚´ìš© ìš”ì•½ (30 lines)
- âœ… "ì´ Taskì— í•„ìš”í•œ" ë¶€ë¶„ë§Œ í•„í„°ë§

**í‘œì¤€ ë¬¸ì„œê°€ ì—†ëŠ” ê²½ìš°**:
```markdown
## 2. ğŸ“‹ í”„ë¡œì íŠ¸ í‘œì¤€ (ì´ Taskì—ì„œ ì •ì˜)

í”„ë¡œì íŠ¸ ì´ˆë°˜ì´ë¼ í‘œì¤€ ë¬¸ì„œê°€ ì—†ëŠ” ê²½ìš°,
ì´ Taskì—ì„œ ì‚¬ìš©í•  íŒ¨í„´ì„ ì§ì ‘ ì •ì˜í•˜ì„¸ìš”:

#### ë¡œê¹… (ì´ Taskì—ì„œ ì •ì˜)
- structlog ì‚¬ìš©
- logger.info("event_name", key=value) í˜•ì‹
- print() ê¸ˆì§€

#### ì„¤ì • (ì´ Taskì—ì„œ ì •ì˜)
- config.get_secret("KEY_NAME") íŒ¨í„´
- Pydantic Settings ì‚¬ìš©

â†’ ë‚˜ì¤‘ì— ì´ íŒ¨í„´ë“¤ì´ ë°˜ë³µë˜ë©´
  standards/ í´ë”ë¡œ ì¶”ì¶œ ê³ ë ¤
```

---

#### Section 3: ì‚¬ìš© ë„êµ¬

**ëª©ì **: ì´ Taskì—ì„œ ì‚¬ìš©í•  ë¼ì´ë¸ŒëŸ¬ë¦¬/ë„êµ¬ ëª…ì‹œ

**ì‘ì„±ë²•**:
```markdown
## 3. ğŸ”§ ì‚¬ìš© ë„êµ¬
- **PyJWT**: JWT í† í° ìƒì„±/ê²€ì¦
- **structlog**: êµ¬ì¡°í™”ëœ ë¡œê¹…
- **pytest**: í…ŒìŠ¤íŠ¸ í”„ë ˆì„ì›Œí¬
```

**ì£¼ì˜**:
- DNA ì‹œìŠ¤í…œì— ì„¤ì¹˜ëœ ë„êµ¬ë§Œ ì‚¬ìš©
- ìƒˆë¡œìš´ ë„êµ¬ê°€ í•„ìš”í•˜ë©´ DNA ì‹œìŠ¤í…œ ì¬ê²€í† 

---

#### Section 4: ì…ë ¥/ì¶œë ¥

**ëª©ì **: ì´ ë ˆê³ ë¸”ëŸ­ì˜ ì¸í„°í˜ì´ìŠ¤ ì •ì˜

**ì‘ì„±ë²•**:
```markdown
## 4. ğŸ“¦ ì…ë ¥/ì¶œë ¥
**ì…ë ¥**: user_id: str - ì‚¬ìš©ì ê³ ìœ  ID
**ì¶œë ¥**: token: str - JWT ì•¡ì„¸ìŠ¤ í† í° (HS256, 1ì‹œê°„ TTL)
```

**ì£¼ì˜**:
- íƒ€ì… ëª…ì‹œ (Pydantic íƒ€ì…)
- ì„¤ëª… ê°„ê²°í•˜ê²Œ

---

#### Section 5: ì¡°ë¦½ ì •ë³´

**ëª©ì **: Task ê°„ ì˜ì¡´ì„± ë° ì¡°ë¦½ ìˆœì„œ

**ì‘ì„±ë²•**:
```markdown
## 5. ğŸ”— ì¡°ë¦½ ì •ë³´
**ì´ ë¸”ëŸ­ì„ ì‚¬ìš©í•˜ëŠ” Task**: T2.2.1 (Login), T2.2.3 (Refresh)
**ì´ ë¸”ëŸ­ì´ ì‚¬ìš©í•˜ëŠ” Task**: ì—†ìŒ (ë…ë¦½ ë¸”ëŸ­)
```

**Case 1 (ëª¨ë“ˆí™”)ì—ì„œ ì¤‘ìš”**:
- ì–´ë–¤ Taskê°€ ì´ ë¸”ëŸ­ì„ ì‚¬ìš©í•˜ëŠ”ê°€?
- ì´ ë¸”ëŸ­ì€ ì–´ë–¤ Taskì— ì˜ì¡´í•˜ëŠ”ê°€?

**Case 2 (ë‹¨ê³„ë³„)ì—ì„œëŠ”**:
- ë³´í†µ "ì—†ìŒ" ë˜ëŠ” ê°„ë‹¨í•œ ì˜ì¡´ì„±

---

#### Section 6: ì™„ì„± ê¸°ì¤€ + ìì£¼ í•˜ëŠ” ì‹¤ìˆ˜

**ëª©ì **: ì´ Taskê°€ ì™„ë£Œë˜ì—ˆë‹¤ëŠ” ê¸°ì¤€ + í”í•œ ì‹¤ìˆ˜ ë°©ì§€

**ì‘ì„±ë²•**:
```markdown
## 6. ğŸ¯ ì™„ì„± ê¸°ì¤€

### ê¸°ëŠ¥ ê²€ì¦
- [ ] create_token(user_id) í•¨ìˆ˜ ì™„ì „ ì‘ë™
- [ ] ìƒì„±ëœ í† í°ì´ ìœ íš¨í•œ JWT í˜•ì‹
- [ ] Payloadì— user_id, exp, iat í¬í•¨
- [ ] TTL ì •í™•íˆ 1ì‹œê°„ (3600ì´ˆ)

### í…ŒìŠ¤íŠ¸ ê²€ì¦
- [ ] pytest í…ŒìŠ¤íŠ¸ 3ê°œ í†µê³¼:
  - ì •ìƒ í† í° ìƒì„±
  - user_id ê²€ì¦
  - ë§Œë£Œ ì‹œê°„ ê²€ì¦
- [ ] pytest coverage 95%+ ë‹¬ì„±

### í’ˆì§ˆ ê²€ì¦
- [ ] ruff check 0 violations
- [ ] mypy --strict 0 errors
- [ ] import-linter 0 violations
- [ ] structlogë¡œ í† í° ìƒì„± ì´ë²¤íŠ¸ ê¸°ë¡

### ìì£¼ í•˜ëŠ” ì‹¤ìˆ˜ (ì´ Task íŠ¹í™”)

**ì‹¤ìˆ˜ 1: expë¥¼ ì´ˆ ë‹¨ìœ„ë¡œ ì œê³µ**
```python
âŒ payload["exp"] = 3600  # 1970ë…„ 1ì›” 1ì¼ 1ì‹œê°„ í›„!
âœ… payload["exp"] = datetime.utcnow() + timedelta(hours=1)
```

**ì‹¤ìˆ˜ 2: SECRET_KEY í•˜ë“œì½”ë”©**
```python
âŒ SECRET_KEY = "my-secret-key-123"
âœ… secret_key = config.get_secret("JWT_SECRET_KEY")
```

**ì‹¤ìˆ˜ 3: print() ì‚¬ìš©**
```python
âŒ print(f"Token generated for {user_id}")
âœ… logger.info("token_generated", user_id=user_id)
```
```

**ìì£¼ í•˜ëŠ” ì‹¤ìˆ˜ ì‘ì„± ê°€ì´ë“œ**:

**ì¶œì²˜**:
1. ë²”ìš© ì‹¤ìˆ˜ (ëª¨ë“  Task ì ìš©):
   - `standards/99_common_mistakes.md` ì°¸ì¡°
   - print() ì‚¬ìš©, í•˜ë“œì½”ë”© ë“±
2. ë„ë©”ì¸ë³„ ì‹¤ìˆ˜ (JWT, DB, API ë“±):
   - ê³¼ê±° ë¹„ìŠ·í•œ Task ê²½í—˜
   - ê¸°ìˆ  ìŠ¤íƒë³„ known issues
3. Taskë³„ ê³ ìœ  ì‹¤ìˆ˜:
   - êµ¬í˜„ í›„ íšŒê³ ì—ì„œ ë°œê²¬
   - ë‹¤ìŒ ë¹„ìŠ·í•œ Taskì— ì ìš©

**íë ˆì´ì…˜ ì ˆì°¨**:
1. ë²”ìš© ì‹¤ìˆ˜ì§‘ì—ì„œ ì´ Task ê´€ë ¨ë§Œ ì„ íƒ
2. ë„ë©”ì¸ ì‹¤ìˆ˜ (JWT ê´€ë ¨) ì¶”ê°€
3. 3-5ê°œë¡œ ì œí•œ (í•µì‹¬ë§Œ)
4. âŒ/âœ… Before/After í˜•ì‹ìœ¼ë¡œ

**ì£¼ì˜**:
- ì²´í¬ ê°€ëŠ¥í•œ ëª…í™•í•œ ê¸°ì¤€
- ìˆ«ìë¡œ í‘œí˜„ ê°€ëŠ¥í•˜ë©´ ìˆ«ìë¡œ (ì˜ˆ: "3ê°œ í†µê³¼")
- ìì£¼ í•˜ëŠ” ì‹¤ìˆ˜ 3-5ê°œ (ë„ˆë¬´ ë§ìœ¼ë©´ ì•ˆ ì½ìŒ)

---

#### Section 7: êµ¬í˜„ íŒíŠ¸ (ìŠ¤ì¼ˆë ˆí†¤ ìˆ˜ì¤€!)

**ëª©ì **: í•µì‹¬ ë¡œì§ êµ¬ì¡° ì œì‹œ (ì „ì²´ ì½”ë“œ ì•„ë‹˜!)

**í•µì‹¬**: Level 3 ìŠ¤ì¼ˆë ˆí†¤ - 40 lines ì •ë„

**ì‘ì„±ë²•**:
```markdown
## 7. ğŸ’¡ êµ¬í˜„ íŒíŠ¸ (ìŠ¤ì¼ˆë ˆí†¤)

### í•¨ìˆ˜ ì‹œê·¸ë‹ˆì²˜
```python
def create_token(user_id: str) -> str:
    """JWT ì•¡ì„¸ìŠ¤ í† í° ìƒì„±.

    Args:
        user_id: ì‚¬ìš©ì ê³ ìœ  ID

    Returns:
        JWT í† í° ë¬¸ìì—´ (1ì‹œê°„ ìœ íš¨)

    Raises:
        ValueError: user_idê°€ ë¹ˆ ë¬¸ìì—´ì¸ ê²½ìš°
    """
```

### í•µì‹¬ ë¡œì§ êµ¬ì¡°
```python
# src/auth/token.py
import jwt
from datetime import datetime, timedelta
from core.config import settings
from core.logging import get_logger

logger = get_logger(__name__)

def create_token(user_id: str) -> str:
    """JWT ì•¡ì„¸ìŠ¤ í† í° ìƒì„±."""
    # 1. Payload êµ¬ì„±
    payload = {
        "user_id": user_id,
        "exp": datetime.utcnow() + timedelta(hours=1),
        "iat": datetime.utcnow()
    }

    # 2. SECRET_KEY ê°€ì ¸ì˜¤ê¸°
    secret_key = config.get_secret("JWT_SECRET_KEY")

    # 3. í† í° ìƒì„±
    token = jwt.encode(payload, secret_key, algorithm="HS256")

    # 4. ë¡œê¹…
    logger.info("token_generated", user_id=user_id)

    return token
```

**Agentê°€ ì¶”ê°€í•´ì•¼ í•  ê²ƒ**:
- user_id validation (ë¹ˆ ë¬¸ìì—´ ì²´í¬)
- ì—ëŸ¬ ì²˜ë¦¬ (try-except)
- ì¶”ê°€ payload í•„ë“œ (jti ë“±)

### í…ŒìŠ¤íŠ¸ ìŠ¤ì¼ˆë ˆí†¤ (Given-When-Then)
```python
# tests/auth/test_token.py
def test_create_token_success():
    """Given: ìœ íš¨í•œ user_id
       When: create_token í˜¸ì¶œ
       Then: ìœ íš¨í•œ JWT í† í° ë°˜í™˜"""
    # Given
    user_id = "test-user-123"

    # When
    token = create_token(user_id)

    # Then
    assert isinstance(token, str)
    decoded = jwt.decode(token, SECRET_KEY, algorithms=["HS256"])
    assert decoded["user_id"] == user_id
    assert "exp" in decoded
    # Agentê°€ exp ì‹œê°„ ê²€ì¦ ë“± ì¶”ê°€
```
```

**ìŠ¤ì¼ˆë ˆí†¤ ìˆ˜ì¤€ ê°€ì´ë“œ**:

**Level 1: ì¸í„°í˜ì´ìŠ¤ë§Œ** (20 lines) - **ë¶ˆì¶©ë¶„** âŒ
```python
def create_token(user_id: str) -> str:
    """JWT í† í° ìƒì„±."""
    pass
```
â†’ Agentê°€ êµ¬ì¡°ë¥¼ ëª¨ë¦„

**Level 2: ì£¼ì„ ì˜ì‚¬ì½”ë“œ** (30 lines) - **ë¶€ì¡±** âŒ
```python
def create_token(user_id: str) -> str:
    # 1. payload ë§Œë“¤ê¸°
    # 2. jwtë¡œ ì¸ì½”ë”©í•˜ê¸°
    # 3. ë¡œê¹…í•˜ê¸°
    # 4. ë°˜í™˜í•˜ê¸°
```
â†’ êµ¬ì²´ì„± ë¶€ì¡±

**Level 3: í•µì‹¬ ë¡œì§ ìŠ¤ì¼ˆë ˆí†¤** (40 lines) - **ê· í˜•ì !** âœ…
```python
def create_token(user_id: str) -> str:
    payload = {"user_id": user_id, "exp": ...}
    secret_key = config.get_secret("JWT_SECRET_KEY")
    token = jwt.encode(payload, secret_key, algorithm="HS256")
    logger.info("token_generated", user_id=user_id)
    return token
```
â†’ êµ¬ì¡°ëŠ” ëª…í™•, ì„¸ë¶€ì‚¬í•­ì€ Agentê°€ ì±„ì›€ (TDD ê°€ëŠ¥!)

**Level 4: ì „ì²´ êµ¬í˜„** (200+ lines) - **ê³¼í•¨!** âŒ
```python
def create_token(user_id: str) -> str:
    try:
        if not user_id:
            raise ValueError(...)
        if not isinstance(user_id, str):
            raise TypeError(...)
        # ... 100+ lines of validation
        # ... 50+ lines of edge cases
        # ... 50+ lines of error handling
    except Exception as e:
        logger.exception(...)
        raise
```
â†’ Agentê°€ ë³µë¶™ë§Œ í•¨. TDD ë¶ˆê°€ëŠ¥.

**ì„ íƒ: Level 3 (ìŠ¤ì¼ˆë ˆí†¤)** - ì´ìœ :
- í•µì‹¬ ë¡œì§ êµ¬ì¡° ëª…í™•
- Agentê°€ validation, ì—ëŸ¬ ì²˜ë¦¬ ì¶”ê°€
- TDD ê°€ëŠ¥ (í…ŒìŠ¤íŠ¸ ì‹¤íŒ¨ â†’ ìˆ˜ì • ë°˜ë³µ)
- "Necessary Information Only" ì¤€ìˆ˜

**ì£¼ì˜**:
- âœ… ì‹¤í–‰ ê°€ëŠ¥í•œ ìˆ˜ì¤€ (import ì •í™•, í•¨ìˆ˜ í˜¸ì¶œ ê°€ëŠ¥)
- âœ… DNA ì‹œìŠ¤í…œ í™˜ê²½ ì‚¬ìš© (core.*)
- âœ… í•µì‹¬ ë¡œì§ë§Œ (40 lines)
- âŒ ì „ì²´ ì—ëŸ¬ ì²˜ë¦¬ í¬í•¨ (Agentê°€ ì¶”ê°€)
- âŒ ëª¨ë“  ì—£ì§€ ì¼€ì´ìŠ¤ (Agentê°€ ì¶”ê°€)
- âœ… ì£¼ì„ìœ¼ë¡œ ë‹¨ê³„ ì„¤ëª…

---

#### Section 8: ì˜ˆìƒ ì‘ì—… ì‹œê°„

**ëª©ì **: Task ì¼ì • ê³„íš

**ì‘ì„±ë²•**:
```markdown
## 8. â±ï¸ ì˜ˆìƒ ì‘ì—… ì‹œê°„
- êµ¬í˜„: 30ë¶„
- í…ŒìŠ¤íŠ¸ ì‘ì„±: 30ë¶„
- í’ˆì§ˆ ê²€ì¦: 10ë¶„
- ë¬¸ì„œí™”: 10ë¶„
- ì´ ì˜ˆìƒ: 1ì‹œê°„ 20ë¶„
```

---

#### Section 9: ë©”íƒ€ì •ë³´

**ëª©ì **: í”„ë¡œì íŠ¸ ê´€ë¦¬ ì •ë³´

**ì‘ì„±ë²•**:
```markdown
## 9. ğŸ“Œ ë©”íƒ€ì •ë³´
- ìš°ì„ ìˆœìœ„: High (ë‹¤ë¥¸ Taskì˜ ì˜ì¡´ì„±)
- ì˜ì¡´ì„±: ì—†ìŒ
- íƒœê·¸: #auth #jwt #core
```

---

## 5. ì‹¤ì „ ì˜ˆì‹œ: Auth ì‹œìŠ¤í…œ ë¶„í•´

### Blueprint (ìš”ì•½)

```markdown
# Auth ì‹œìŠ¤í…œ Blueprint (1000ì¤„ ì¤‘ ìš”ì•½)

## ê¸°ëŠ¥ ëª©ë¡
1. JWT í† í° ê´€ë¦¬
   - ìƒì„± (HS256, 1ì‹œê°„ TTL)
   - ê²€ì¦ (ë§Œë£Œ, í˜•ì‹ ì²´í¬)
2. Login ì—”ë“œí¬ì¸íŠ¸
   - POST /auth/login
   - 5íšŒ ì‹¤íŒ¨ â†’ 30ë¶„ ì ê¸ˆ
3. Logout ì—”ë“œí¬ì¸íŠ¸
   - POST /auth/logout
4. Refresh ì—”ë“œí¬ì¸íŠ¸
   - POST /auth/refresh

## ê¸°ìˆ  ìŠ¤íƒ
- PyJWT
- structlog
- Redis (ì„¸ì…˜ ê´€ë¦¬)
- FastAPI
```

---

### Case 1: ëª¨ë“ˆí™” ë¶„í•  ê²°ê³¼

```markdown
# Auth ì‹œìŠ¤í…œ Task ëª©ë¡ (Case 1)

## ëª¨ë“ˆ ë ˆì´ì–´
- Task T2.1.1: JWT ìƒì„± ëª¨ë“ˆ
- Task T2.1.2: JWT ê²€ì¦ ëª¨ë“ˆ
- Task T2.1.3: ë¹„ë°€ë²ˆí˜¸ í•´ì‹± ëª¨ë“ˆ
- Task T2.1.4: Redis ì„¸ì…˜ ê´€ë¦¬ ëª¨ë“ˆ

## API ë ˆì´ì–´ (ëª¨ë“ˆ ì‚¬ìš©)
- Task T2.2.1: Login ì—”ë“œí¬ì¸íŠ¸ (T2.1.1, T2.1.3, T2.1.4 ì‚¬ìš©)
- Task T2.2.2: Logout ì—”ë“œí¬ì¸íŠ¸ (T2.1.2, T2.1.4 ì‚¬ìš©)
- Task T2.2.3: Refresh ì—”ë“œí¬ì¸íŠ¸ (T2.1.1, T2.1.2 ì‚¬ìš©)
```

**ì¡°ë¦½ ìˆœì„œ**:
1. ëª¨ë“ˆ ë ˆì´ì–´ ë³‘ë ¬ êµ¬í˜„ (T2.1.1 ~ T2.1.4)
2. API ë ˆì´ì–´ ìˆœì°¨ êµ¬í˜„ (T2.2.1 â†’ T2.2.2 â†’ T2.2.3)

---

### Case 2: ë‹¨ê³„ë³„ êµ¬í˜„ ê²°ê³¼

```markdown
# Auth ì‹œìŠ¤í…œ Task ëª©ë¡ (Case 2)

- Task T2.1.1: Login ê¸°ëŠ¥ ì „ì²´ (JWT ìƒì„± í¬í•¨)
- Task T2.2.1: Logout ê¸°ëŠ¥ ì „ì²´ (JWT ê²€ì¦ í¬í•¨)
- Task T2.3.1: Refresh ê¸°ëŠ¥ ì „ì²´ (JWT ìƒì„±+ê²€ì¦ í¬í•¨)
```

**êµ¬í˜„ ìˆœì„œ**:
1. Login ì™„ì „ êµ¬í˜„ â†’ âœ… ë¡œê·¸ì¸ ì‘ë™
2. Logout ì™„ì „ êµ¬í˜„ â†’ âœ… ë¡œê·¸ì•„ì›ƒ ì‘ë™
3. Refresh ì™„ì „ êµ¬í˜„ â†’ âœ… í† í° ê°±ì‹  ì‘ë™

---

### Task T2.1.1 ì „ì²´ ì˜ˆì‹œ (Case 1)

````markdown
# Task T2.1.1: JWT í† í° ìƒì„± ëª¨ë“ˆ

## 1. ğŸ“˜ ì²­ì‚¬ì§„ ì°¸ì¡°
**Blueprint Line 145-178**: JWT ì•Œê³ ë¦¬ì¦˜ ë° í† í° êµ¬ì¡°

í•µì‹¬ ë‚´ìš©:
- HS256 ì•Œê³ ë¦¬ì¦˜ ì‚¬ìš©
- Payload: {user_id, exp, iat}
- TTL: 1ì‹œê°„ (3600ì´ˆ)
- Secret keyëŠ” í™˜ê²½ ì„¤ì •ì—ì„œ ë¡œë“œ

## 2. ğŸ“‹ í”„ë¡œì íŠ¸ í‘œì¤€ ì°¸ì¡°
**PROJECT_STANDARDS.md Line 12-25**: structlog ë¡œê¹… íŒ¨í„´
- ëª¨ë“  í† í° ìƒì„± ì´ë²¤íŠ¸ ê¸°ë¡
- user_id í¬í•¨í•œ êµ¬ì¡°í™”ëœ ë¡œê·¸

**PROJECT_STANDARDS.md Line 45-58**: Pydantic ëª¨ë¸ ê·œì¹™
- í™˜ê²½ ì„¤ì •ì€ pydantic-settings ì‚¬ìš©

## 3. ğŸ”§ ì‚¬ìš© ë„êµ¬
- **PyJWT**: JWT í† í° ìƒì„±/ê²€ì¦ í‘œì¤€ ë¼ì´ë¸ŒëŸ¬ë¦¬
- **structlog**: êµ¬ì¡°í™”ëœ ë¡œê¹…
- **pydantic-settings**: í™˜ê²½ ì„¤ì • ê´€ë¦¬
- **pytest**: í…ŒìŠ¤íŠ¸ í”„ë ˆì„ì›Œí¬

## 4. ğŸ“¦ ì…ë ¥/ì¶œë ¥
**ì…ë ¥**: user_id: str - ì‚¬ìš©ì ê³ ìœ  ID
**ì¶œë ¥**: token: str - JWT ì•¡ì„¸ìŠ¤ í† í° (HS256, 1ì‹œê°„ TTL)

## 5. ğŸ”— ì¡°ë¦½ ì •ë³´
**ì´ ë¸”ëŸ­ì„ ì‚¬ìš©í•˜ëŠ” Task**:
- T2.2.1 (Login ì—”ë“œí¬ì¸íŠ¸)
- T2.2.3 (Refresh ì—”ë“œí¬ì¸íŠ¸)

**ì´ ë¸”ëŸ­ì´ ì‚¬ìš©í•˜ëŠ” Task**: ì—†ìŒ (ë…ë¦½ ë¸”ëŸ­)

## 6. ğŸ¯ ì™„ì„± ê¸°ì¤€
- [ ] create_token(user_id) í•¨ìˆ˜ ì™„ì „ ì‘ë™
- [ ] ìƒì„±ëœ í† í°ì´ ìœ íš¨í•œ JWT í˜•ì‹
- [ ] Payloadì— user_id, exp, iat í¬í•¨
- [ ] TTL ì •í™•íˆ 1ì‹œê°„ (3600ì´ˆ)
- [ ] pytest í…ŒìŠ¤íŠ¸ 3ê°œ í†µê³¼:
  - ì •ìƒ í† í° ìƒì„±
  - user_id ê²€ì¦
  - ë§Œë£Œ ì‹œê°„ ê²€ì¦
- [ ] structlogë¡œ í† í° ìƒì„± ì´ë²¤íŠ¸ ê¸°ë¡
- [ ] mypy --strict 0 errors
- [ ] ruff check 0 violations

## 7. ğŸ’¡ êµ¬í˜„ íŒíŠ¸
```python
# src/auth/token.py
import jwt
from datetime import datetime, timedelta
from core.config import settings
from core.logging import get_logger

logger = get_logger(__name__)

def create_token(user_id: str) -> str:
    """JWT ì•¡ì„¸ìŠ¤ í† í° ìƒì„±

    Args:
        user_id: ì‚¬ìš©ì ê³ ìœ  ID

    Returns:
        JWT í† í° ë¬¸ìì—´ (HS256, 1ì‹œê°„ TTL)
    """
    payload = {
        "user_id": user_id,
        "exp": datetime.utcnow() + timedelta(hours=1),
        "iat": datetime.utcnow()
    }

    token = jwt.encode(
        payload,
        settings.jwt_secret,
        algorithm="HS256"
    )

    logger.info("token_created", user_id=user_id)

    return token
    
# tests/auth/test_token.py
import jwt
from datetime import datetime, timedelta
from auth.token import create_token

def test_create_token_ì •ìƒ():
    """Given: user_idê°€ ì£¼ì–´ì¡Œì„ ë•Œ
    When: create_tokenì„ í˜¸ì¶œí•˜ë©´
    Then: ìœ íš¨í•œ JWT í† í°ì´ ìƒì„±ëœë‹¤
    """
    # Given
    user_id = "user123"

    # When
    token = create_token(user_id)

    # Then
    decoded = jwt.decode(token, settings.jwt_secret, algorithms=["HS256"])
    assert decoded["user_id"] == user_id
    assert "exp" in decoded
    assert "iat" in decoded

def test_create_token_TTL():
    """Given: í† í°ì„ ìƒì„±í–ˆì„ ë•Œ
    When: expë¥¼ í™•ì¸í•˜ë©´
    Then: ì •í™•íˆ 1ì‹œê°„ í›„ë¡œ ì„¤ì •ë˜ì–´ ìˆë‹¤
    """
    # Given & When
    token = create_token("user123")
    decoded = jwt.decode(token, settings.jwt_secret, algorithms=["HS256"])

    # Then
    exp = datetime.fromtimestamp(decoded["exp"])
    iat = datetime.fromtimestamp(decoded["iat"])
    assert (exp - iat).total_seconds() == 3600
```

## 8. â±ï¸ ì˜ˆìƒ ì‘ì—… ì‹œê°„

- êµ¬í˜„: 30ë¶„
- í…ŒìŠ¤íŠ¸ ì‘ì„±: 30ë¶„
- í’ˆì§ˆ ê²€ì¦: 10ë¶„
- ë¬¸ì„œí™”: 10ë¶„
- ì´ ì˜ˆìƒ: 1ì‹œê°„ 20ë¶„

## 9. ğŸ“Œ ë©”íƒ€ì •ë³´

- ìš°ì„ ìˆœìœ„: High (ë‹¤ë¥¸ Taskì˜ ì˜ì¡´ì„±)
- ì˜ì¡´ì„±: ì—†ìŒ (ì²« ë²ˆì§¸ êµ¬í˜„ ê°€ëŠ¥)
- íƒœê·¸: #auth #jwt #core #module
````

---

## 6. ì‘ì—…ë¶„í•´ ì™„ë£Œ ê²€ì¦

### ë¶„í•  ë°©ì‹ ê²€ì¦
- [ ] Case 1 vs Case 2 ì„ íƒ ê·¼ê±°ê°€ ëª…í™•í•œê°€?
- [ ] ëª¨ë“  Taskê°€ ê°™ì€ ë°©ì‹ìœ¼ë¡œ ë¶„í• ë˜ì—ˆëŠ”ê°€?
- [ ] Case 1ì¸ ê²½ìš°, ëª¨ë“ˆ ë ˆì´ì–´ì™€ API ë ˆì´ì–´ê°€ êµ¬ë¶„ë˜ì—ˆëŠ”ê°€?

### Task í’ˆì§ˆ ê²€ì¦
- [ ] ê° TaskëŠ” 200K ì»¨í…ìŠ¤íŠ¸ ë‚´ì¸ê°€?
- [ ] ê° TaskëŠ” ì˜ë¯¸ìˆëŠ” ê¸°ëŠ¥ ë‹¨ìœ„ì¸ê°€? (ë…ë¦½ í…ŒìŠ¤íŠ¸ ê°€ëŠ¥)
- [ ] ëª¨ë“  Taskê°€ DNA ì‹œìŠ¤í…œ í™˜ê²½ ê¸°ë°˜ì¸ê°€?
- [ ] ëª¨ë“  Taskê°€ 9-sectionì„ ê°–ì¶”ì—ˆëŠ”ê°€?

### ì™„ì„±ë„ ê²€ì¦
- [ ] Blueprintì˜ ëª¨ë“  ê¸°ëŠ¥ì´ Taskë¡œ ë¶„í•´ë˜ì—ˆëŠ”ê°€?
- [ ] Task ê°„ ì˜ì¡´ì„±ì´ ëª…í™•í•œê°€? (Section 5)
- [ ] ì¡°ë¦½ ìˆœì„œê°€ ì •ì˜ë˜ì—ˆëŠ”ê°€?
- [ ] ëˆ„ë½ëœ Taskê°€ ì—†ëŠ”ê°€? (Q4 ì²´í¬)

### ì¼ê´€ì„± ê²€ì¦
- [ ] ëª¨ë“  Taskê°€ ê°™ì€ ë„êµ¬ë¥¼ ì‚¬ìš©í•˜ëŠ”ê°€?
- [ ] ëª¨ë“  Taskê°€ ê°™ì€ í‘œì¤€ì„ ë”°ë¥´ëŠ”ê°€?
- [ ] ì²­ì‚¬ì§„ ì°¸ì¡°ê°€ ì •í™•í•œê°€? (Line ë²ˆí˜¸ í™•ì¸)
- [ ] í”„ë¡œì íŠ¸ í‘œì¤€ ì°¸ì¡°ê°€ ì •í™•í•œê°€?

### í…œí”Œë¦¿ ì¤€ìˆ˜ ê²€ì¦
- [ ] Section 1: ì²­ì‚¬ì§„ ì°¸ì¡° (Line ë²ˆí˜¸ + ìš”ì•½)
- [ ] Section 2: í‘œì¤€ ì°¸ì¡° (Line ë²ˆí˜¸ + ìš”ì•½)
- [ ] Section 3: ì‚¬ìš© ë„êµ¬ ëª…ì‹œ
- [ ] Section 4: ì…ë ¥/ì¶œë ¥ íƒ€ì… ëª…ì‹œ
- [ ] Section 5: ì¡°ë¦½ ì •ë³´ ëª…ì‹œ
- [ ] Section 6: ì™„ì„± ê¸°ì¤€ ì²´í¬ë¦¬ìŠ¤íŠ¸
- [ ] Section 7: êµ¬í˜„ íŒíŠ¸ ì½”ë“œ ì˜ˆì‹œ
- [ ] Section 8: ì˜ˆìƒ ì‘ì—… ì‹œê°„
- [ ] Section 9: ë©”íƒ€ì •ë³´

---

## ì°¸ê³ 

- **ê¸°ë°˜ ë¬¸ì„œ**: [CORE_METHODOLOGY.md](./CORE_METHODOLOGY.md)
- **ë‹¤ìŒ ë‹¨ê³„**: [CHECKLIST_GUIDE.md](./CHECKLIST_GUIDE.md) - Task â†’ 9-Step ì²´í¬ë¦¬ìŠ¤íŠ¸ ë³€í™˜
- **ì‹¤í–‰ ê°€ì´ë“œ**: Stage 5 (ì‘ì—…ë¶„í•´) â†’ Stage 6 (ì²´í¬ë¦¬ìŠ¤íŠ¸) â†’ Stage 7 (êµ¬í˜„)
